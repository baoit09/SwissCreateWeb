@model FileManagerModel
@using SwissCreateWeb.Models.Project;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "FileManager";
}

@helper RenderACategory(ProjectCategoryModel cat)
{
    if (cat != null)
    {
        <li>
            <span><i class="glyphicon glyphicon-folder-open"></i>_@cat.Name</span> @*<a href="">Goes somewhere</a>*@
            <ul>
                @if (cat.Projects != null && cat.Projects.Count() > 0)
                {
                    foreach (var project in cat.Projects)
                    {
                        <li>
                            <span><i class="glyphicon glyphicon-minus-sign"></i> @project.Name</span>
                        </li>
                    }
                }
                
                @if (cat.ChildProjectCategories != null && cat.ChildProjectCategories.Count() > 0)
                { 
                    foreach (var childCat in cat.ChildProjectCategories)
                    {
                        @RenderACategory(childCat)
                    }
                }
            </ul>
        </li>
    }
}

<link href="~/Content/BootStrapTree/bootstrap.tree.css" rel="stylesheet" />
<script src="~/Content/BootStrapTree/bootstrap.tree.js"></script>

<h3>Files Management</h3>

<div class="tree">
    <ul>
        @RenderACategory(Model.ProjectCategoryRoot)
    </ul>
</div>

@*<div class="tree well">
        <ul>
            <li>
                <span><i class="glyphicon glyphicon-folder-open"></i> Parent</span> <a href="">Goes somewhere</a>
                <ul>
                    <li>
                        <span><i class="glyphicon glyphicon-minus-sign"></i> Child</span> <a href="">Goes somewhere</a>
                        <ul>
                            <li>
                                <span><i class="glyphicon glyphicon-leaf"></i> Grand Child</span> <a href="">Goes somewhere</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span><i class="glyphicon glyphicon-minus-sign"></i> Child</span> <a href="">Goes somewhere</a>
                        <ul>
                            <li>
                                <span><i class="glyphicon glyphicon-leaf"></i> Grand Child</span> <a href="">Goes somewhere</a>
                            </li>
                            <li>
                                <span><i class="glyphicon glyphicon-minus-sign"></i> Grand Child</span> <a href="">Goes somewhere</a>
                                <ul>
                                    <li>
                                        <span><i class="glyphicon glyphicon-minus-sign"></i> Great Grand Child</span> <a href="">Goes somewhere</a>
                                        <ul>
                                            <li>
                                                <span><i class="glyphicon glyphicon-leaf"></i> Great great Grand Child</span> <a href="">Goes somewhere</a>
                                            </li>
                                            <li>
                                                <span><i class="glyphicon glyphicon-leaf"></i> Great great Grand Child</span> <a href="">Goes somewhere</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <span><i class="glyphicon glyphicon-leaf"></i> Great Grand Child</span> <a href="">Goes somewhere</a>
                                    </li>
                                    <li>
                                        <span><i class="glyphicon glyphicon-leaf"></i> Great Grand Child</span> <a href="">Goes somewhere</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <span><i class="glyphicon glyphicon-leaf"></i> Grand Child</span> <a href="">Goes somewhere</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <span><i class="glyphicon glyphicon-folder-open"></i> Parent2</span> <a href="">Goes somewhere</a>
                <ul>
                    <li>
                        <span><i class="glyphicon glyphicon-leaf"></i> Child</span> <a href="">Goes somewhere</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>*@

